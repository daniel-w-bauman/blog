
<!-- saved from url=(0026)http://192.168.0.171:8000/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<script>
			const ws = new WebSocket('ws://localhost:3000')
			ws.onopen = () =>
			{
				const send_button = document.querySelector('#send')
				send_button.disabled = false
				document.querySelector('#send').disabled = false
				const chat_box = document.querySelector('#chatbox')
				chat_box.onsubmit = (event) =>
				{
					const msg_box = document.querySelector('#message')
					ws.send(msg_box.value)
					msg_box.value = ''
					event.preventDefault()
				}
			}
			ws.onmessage = async (msg) =>
			{
				const text = await msg.data.text()
				const message = document.createElement('p')
				message.textContent = text
				const chat = document.querySelector('#chat')
				chat.appendChild(message)
				message.scrollIntoView(false)
			}
		</script>
		<style>
			.box
			{
				display: flex;
				flex-flow: column;
				height: 100%;
			}
			.box .row.header
			{
				flex: 0 1 auto;
				border-bottom: 2px solid black;
			}
			.box .row.content
			{
				flex: 1 1 auto;
				overflow-y: scroll;
			}
			.box .row.footer
			{
				flex: 0 1 20px;
				border-top: 2px solid black;
			}
		</style>
	</head>
	<body>
		<div class="box">
			<div class="row content">
				<div id="chat">

				</div>
			</div>
			<div class="row footer">
				<form id="chatbox" action="http://192.168.0.171:8000/">
					<input id="message" placeholder="Message">
					<button id="send" type="submit">Send</button>
				</form>
			</div>
		</div>


</body></html>
